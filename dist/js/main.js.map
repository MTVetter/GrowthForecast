{"version":3,"sources":["../../src/js/main.js"],"names":["require","Map","MapView","BasemapToggle","Zoom","Home","Search","FeatureLayer","Locator","Extent","colorRendererCreator","Legend","QueryTask","Query","Chart","myChart","map","basemap","view","container","center","zoom","ui","remove","basemapToggle","nextBasemap","add","home","searchWidget","includeDefaultSources","sources","locator","url","singleLineFieldName","outFields","searchExtent","xmax","ymax","xmin","ymin","placeholder","legendWidget","tracts","taz","visible","grid","title","fieldDropdown","$","val","yrDropdown","change","console","log","countyRenderer","tazRenderer","gridRenderer","click","field","scheme","name","tags","id","colors","noDataColor","colorsForClassBreaks","numClasses","outline","color","r","g","b","a","width","params","layer","classificationMethod","colorScheme","legendOptions","createClassBreaksRenderer","then","response","renderer","on","event","executeTractQueryTask","mapPoint","executeTazQueryTask","executeGridQueryTask","point","query","geometry","returnGeometry","queryFeatures","result","setPopulationInfo","features","attributes","setHouseholdInfo","setJobInfo","modal","results","append","canvas","data","datasets","Household_Population_2018","Household_Population_2045","backgroundColor","borderColor","fill","label","pointBackgroundColor","labels","type","options","tooltips","mode","intersect","hover","scales","xAxes","display","scaleLabel","labelString","yAxes","ticks","callback","value","parseFloat","toLocaleString","Households_2018","Households_2045","Jobs_2018","Jobs_2045"],"mappings":";;AAAAA,OAAO,CAAC,CACJ,UADI,EAEJ,oBAFI,EAGJ,4BAHI,EAIJ,mBAJI,EAKJ,mBALI,EAMJ,qBANI,EAOJ,0BAPI,EAQJ,oBARI,EASJ,sBATI,EAUJ,4CAVI,EAWJ,qBAXI,EAYJ,sBAZI,EAaJ,0BAbI,EAcJ,gEAdI,CAAD,EAeJ,UAASC,GAAT,EAAcC,OAAd,EAAuBC,aAAvB,EAAsCC,IAAtC,EAA4CC,IAA5C,EAAkDC,MAAlD,EAA0DC,YAA1D,EAAwEC,OAAxE,EAAiFC,MAAjF,EAAyFC,oBAAzF,EAA+GC,MAA/G,EAAuHC,SAAvH,EAAkIC,KAAlI,EAAyIC,KAAzI,EAA+I;AAE9I,MAAIC,OAAJ,CAF8I,CAI9I;AACA;;AACA,MAAIC,GAAG,GAAG,IAAIf,GAAJ,CAAQ;AACdgB,IAAAA,OAAO,EAAE;AADK,GAAR,CAAV;AAIA,MAAIC,IAAI,GAAG,IAAIhB,OAAJ,CAAY;AACnBiB,IAAAA,SAAS,EAAE,SADQ;AAEnBH,IAAAA,GAAG,EAAEA,GAFc;AAGnBI,IAAAA,MAAM,EAAE,CAAC,CAAC,MAAF,EAAU,MAAV,CAHW;AAInBC,IAAAA,IAAI,EAAE;AAJa,GAAZ,CAAX;AAMAH,EAAAA,IAAI,CAACI,EAAL,CAAQC,MAAR,CAAe,MAAf;AAEA,MAAIC,aAAa,GAAG,IAAIrB,aAAJ,CAAkB;AAClCe,IAAAA,IAAI,EAAEA,IAD4B;AAElCO,IAAAA,WAAW,EAAE;AAFqB,GAAlB,CAApB;AAIAP,EAAAA,IAAI,CAACI,EAAL,CAAQI,GAAR,CAAYF,aAAZ,EAA2B,cAA3B;AAEA,MAAIH,IAAI,GAAG,IAAIjB,IAAJ,CAAS;AAChBc,IAAAA,IAAI,EAAEA;AADU,GAAT,CAAX;AAGAA,EAAAA,IAAI,CAACI,EAAL,CAAQI,GAAR,CAAYL,IAAZ,EAAkB,cAAlB;AAEA,MAAIM,IAAI,GAAG,IAAItB,IAAJ,CAAS;AAChBa,IAAAA,IAAI,EAAEA;AADU,GAAT,CAAX;AAGAA,EAAAA,IAAI,CAACI,EAAL,CAAQI,GAAR,CAAYC,IAAZ,EAAkB,cAAlB;AAEA,MAAIC,YAAY,GAAG,IAAItB,MAAJ,CAAW;AAC1BY,IAAAA,IAAI,EAAEA,IADoB;AAE1BW,IAAAA,qBAAqB,EAAE,KAFG;AAG1BC,IAAAA,OAAO,EAAE,CAAC;AACNC,MAAAA,OAAO,EAAE,IAAIvB,OAAJ,CAAY;AACjBwB,QAAAA,GAAG,EAAE;AADY,OAAZ,CADH;AAINC,MAAAA,mBAAmB,EAAE,YAJf;AAKNC,MAAAA,SAAS,EAAE,CAAC,WAAD,CALL;AAMNC,MAAAA,YAAY,EAAE,IAAI1B,MAAJ,CAAW;AACrB2B,QAAAA,IAAI,EAAE,CAAC,SADc;AAErBC,QAAAA,IAAI,EAAE,SAFe;AAGrBC,QAAAA,IAAI,EAAE,CAAC,SAHc;AAIrBC,QAAAA,IAAI,EAAE;AAJe,OAAX,CANR;AAYNC,MAAAA,WAAW,EAAE;AAZP,KAAD;AAHiB,GAAX,CAAnB;AAkBAtB,EAAAA,IAAI,CAACI,EAAL,CAAQI,GAAR,CAAYE,YAAZ,EAA0B,cAA1B;AAEA,MAAIa,YAAY,GAAG,IAAI9B,MAAJ,CAAW;AAC1BO,IAAAA,IAAI,EAAEA;AADoB,GAAX,CAAnB;AAGAA,EAAAA,IAAI,CAACI,EAAL,CAAQI,GAAR,CAAYe,YAAZ,EAA0B,WAA1B,EAzD8I,CA2D9I;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","sourcesContent":["require([\r\n    \"esri/Map\",\r\n    \"esri/views/MapView\",\r\n    \"esri/widgets/BasemapToggle\",\r\n    \"esri/widgets/Zoom\",\r\n    \"esri/widgets/Home\",\r\n    \"esri/widgets/Search\",\r\n    \"esri/layers/FeatureLayer\",\r\n    \"esri/tasks/Locator\",\r\n    \"esri/geometry/Extent\",\r\n    \"esri/renderers/smartMapping/creators/color\",\r\n    \"esri/widgets/Legend\",\r\n    \"esri/tasks/QueryTask\",\r\n    \"esri/tasks/support/Query\",\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js\"\r\n], function(Map, MapView, BasemapToggle, Zoom, Home, Search, FeatureLayer, Locator, Extent, colorRendererCreator, Legend, QueryTask, Query, Chart){\r\n\r\n    var myChart;\r\n\r\n    //===========================\r\n    //Create the basic requirements\r\n    var map = new Map({\r\n        basemap: \"streets-navigation-vector\"\r\n    });\r\n\r\n    var view = new MapView({\r\n        container: \"viewDiv\",\r\n        map: map,\r\n        center: [-95.444, 29.756],\r\n        zoom: 8\r\n    });\r\n    view.ui.remove(\"zoom\");\r\n\r\n    var basemapToggle = new BasemapToggle({\r\n        view: view,\r\n        nextBasemap: \"satellite\"\r\n    });\r\n    view.ui.add(basemapToggle, \"bottom-right\");\r\n\r\n    var zoom = new Zoom({\r\n        view: view\r\n    });\r\n    view.ui.add(zoom, \"bottom-right\");\r\n\r\n    var home = new Home({\r\n        view: view\r\n    });\r\n    view.ui.add(home, \"bottom-right\");\r\n\r\n    var searchWidget = new Search({\r\n        view: view,\r\n        includeDefaultSources: false,\r\n        sources: [{\r\n            locator: new Locator({\r\n                url: \"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer\"\r\n            }),\r\n            singleLineFieldName: \"SingleLine\",\r\n            outFields: [\"Addr_type\"],\r\n            searchExtent: new Extent({\r\n                xmax: -97.292800,\r\n                ymax: 30.797600,\r\n                xmin: -93.236100,\r\n                ymin: 28.460500\r\n            }),\r\n            placeholder: \"3555 Timmons Ln, Houston, TX\"\r\n        }]\r\n    });\r\n    view.ui.add(searchWidget, \"bottom-right\");\r\n\r\n    var legendWidget = new Legend({\r\n        view: view\r\n    });\r\n    view.ui.add(legendWidget, \"top-right\");\r\n\r\n    //============================================\r\n    //Add the different layers to the map\r\n\r\n    //Create the popup templates\r\n    // var tractTemplate = {\r\n    //     title: \"{Tract} in {County}\",\r\n    //     content: [\r\n    //         {\r\n    //             type: \"fields\",\r\n    //             fieldInfos: [\r\n    //                 {\r\n    //                     fieldName: \"Household_Population_2018\",\r\n    //                     label: \"Household Population (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Household_Population_2045\",\r\n    //                     label: \"Household Populations (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Households_2018\",\r\n    //                     label: \"Households (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Households_2045\",\r\n    //                     label: \"Households (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Jobs_2018\",\r\n    //                     label: \"Jobs (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Jobs_2045\",\r\n    //                     label: \"Jobs (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 }\r\n    //             ]\r\n    //         }, {\r\n    //             type: \"media\",\r\n    //             mediaInfos: [\r\n    //                 {\r\n    //                     type: \"line-chart\",\r\n    //                     value: {\r\n    //                         fields: [\"Household_Population_2018\", \"Household_Population_2045\"],\r\n    //                         normalizeField: null,\r\n    //                         tooltipField: \"\"\r\n    //                     }\r\n    //                 }\r\n    //             ]\r\n    //         }\r\n    //     ]\r\n    // };\r\n\r\n    // var tazTemplate = {\r\n    //     title: \"{Taz} in {County}\",\r\n    //     content: [\r\n    //         {\r\n    //             type: \"fields\",\r\n    //             fieldInfos: [\r\n    //                 {\r\n    //                     fieldName: \"Household_Population_2018\",\r\n    //                     label: \"Household Population (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Household_Population_2045\",\r\n    //                     label: \"Household Populations (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Households_2018\",\r\n    //                     label: \"Households (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Households_2045\",\r\n    //                     label: \"Households (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Jobs_2018\",\r\n    //                     label: \"Jobs (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Jobs_2045\",\r\n    //                     label: \"Jobs (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 }\r\n    //             ]\r\n    //         }\r\n    //     ]\r\n    // };\r\n\r\n    // var gridTemplate = {\r\n    //     title: \"{H3M}\",\r\n    //     content: [\r\n    //         {\r\n    //             type: \"fields\",\r\n    //             fieldInfos: [\r\n    //                 {\r\n    //                     fieldName: \"Household_Population_2018\",\r\n    //                     label: \"Household Population (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Household_Population_2045\",\r\n    //                     label: \"Household Populations (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Households_2018\",\r\n    //                     label: \"Households (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Households_2045\",\r\n    //                     label: \"Households (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Jobs_2018\",\r\n    //                     label: \"Jobs (2018)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 },\r\n    //                 {\r\n    //                     fieldName: \"Jobs_2045\",\r\n    //                     label: \"Jobs (2045)\",\r\n    //                     format: {\r\n    //                         digitSeparator: true,\r\n    //                         places: 0\r\n    //                     }\r\n    //                 }\r\n    //             ]\r\n    //         }\r\n    //     ]\r\n    // };\r\n\r\n    var tracts = new FeatureLayer({\r\n        url: \"https://gis.h-gac.com/arcgis/rest/services/Forecast/Census_Tracts/MapServer/0\"\r\n    });\r\n    map.add(tracts);\r\n\r\n    var taz = new FeatureLayer({\r\n        url: \"https://gis.h-gac.com/arcgis/rest/services/Forecast/TAZ_5217/MapServer/0\",\r\n        visible: false\r\n    });\r\n    map.add(taz);\r\n\r\n    var grid = new FeatureLayer({\r\n        url: \"https://gis.h-gac.com/arcgis/rest/services/Forecast/H3M/MapServer/0\",\r\n        visible: false,\r\n        title: \"3 Square Mile Grid\"\r\n    });\r\n    map.add(grid);\r\n\r\n    //===========================================\r\n    //Determine how to symbolize the data\r\n    var fieldDropdown = $(\"#fldDropdown\").val();\r\n    var yrDropdown = $(\"#yrDropdown\").val();\r\n\r\n    $(\"#fldDropdown\").change(function(){\r\n        fieldDropdown = $(\"#fldDropdown\").val();\r\n        if ($(\"input:checked\").val() == \"tracts\"){\r\n            console.log(\"tracts\");\r\n            countyRenderer(fieldDropdown, yrDropdown);\r\n        } else if ($(\"input:checked\").val() == \"taz\"){\r\n            console.log(\"taz\");\r\n            tazRenderer(fieldDropdown, yrDropdown);\r\n        } else if ($(\"input:checked\").val() == \"grid\"){\r\n            console.log(\"grid\");\r\n            gridRenderer(fieldDropdown, yrDropdown);\r\n        }\r\n    });\r\n\r\n    $(\"#yrDropdown\").change(function(){\r\n        yrDropdown = $(\"#yrDropdown\").val();\r\n        if ($(\"input:checked\").val() == \"tracts\"){\r\n            countyRenderer(fieldDropdown, yrDropdown);\r\n        } else if ($(\"input:checked\").val() == \"taz\"){\r\n            tazRenderer(fieldDropdown, yrDropdown);\r\n        } else if ($(\"input:checked\").val() == \"grid\"){\r\n            gridRenderer(fieldDropdown, yrDropdown);\r\n        }\r\n    });\r\n\r\n    //Call function for the initial renderer\r\n    countyRenderer(fieldDropdown, yrDropdown);\r\n\r\n    $(\"#tractsStyle\").click(function(){\r\n        countyRenderer(fieldDropdown, yrDropdown);\r\n    });\r\n\r\n    $(\"#tazStyle\").click(function(){\r\n        tazRenderer(fieldDropdown, yrDropdown);\r\n    });\r\n\r\n    $(\"#gridStyle\").click(function(){\r\n        gridRenderer(fieldDropdown, yrDropdown);\r\n    });\r\n\r\n    function countyRenderer(fieldDropdown, yrDropdown){\r\n        var field = fieldDropdown + \"_\" + yrDropdown;\r\n\r\n        var scheme = {\r\n            name: \"div-blue-red\",\r\n            tags: \"Custom color scheme\",\r\n            id: \"above-and-below/streets-navigation-vector/div-blue-red\",\r\n            colors: [[254,229,217],[252,174,145],[251,106,74],[222,45,38],[165,15,21]],\r\n            noDataColor: [0,0,0],\r\n            colorsForClassBreaks: [\r\n                {\r\n                    colors: [[254,229,217, 0.7]],\r\n                    numClasses: 1\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7]],\r\n                    numClasses: 2\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7],[251,106,74, 0.7]],\r\n                    numClasses: 3\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7],[251,106,74, 0.7],[222,45,38, 0.7]],\r\n                    numClasses: 4\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7],[251,106,74, 0.7],[222,45,38, 0.7],[165,15,21, 0.7]],\r\n                    numClasses: 5\r\n                }\r\n            ],\r\n            outline: {\r\n                color: {r: 0, g: 0, b: 0, a: 0.25},\r\n                width: \"1px\"\r\n            }\r\n        };\r\n\r\n        var params = {\r\n            layer: tracts,\r\n            field: field,\r\n            basemap: map.basemap,\r\n            classificationMethod: \"quantile\",\r\n            colorScheme: scheme,\r\n            legendOptions: {\r\n                title: yrDropdown + \" - \" + fieldDropdown\r\n            }\r\n        };\r\n\r\n        colorRendererCreator.createClassBreaksRenderer(params)\r\n            .then(function(response){\r\n                tracts.renderer = response.renderer;\r\n\r\n                if (!tracts.visible){\r\n                    taz.visible = false;\r\n                    tracts.visible = true;\r\n                    grid.visible = false;\r\n                }\r\n            });\r\n    }\r\n\r\n    function tazRenderer(fieldDropdown, yrDropdown){\r\n        var field = fieldDropdown + \"_\" + yrDropdown;\r\n\r\n        var scheme = {\r\n            name: \"div-blue-red\",\r\n            tags: \"Custom color scheme\",\r\n            id: \"above-and-below/streets-navigation-vector/div-blue-red\",\r\n            colors: [[254,229,217],[252,174,145],[251,106,74],[222,45,38],[165,15,21]],\r\n            noDataColor: [0,0,0],\r\n            colorsForClassBreaks: [\r\n                {\r\n                    colors: [[254,229,217, 0.7]],\r\n                    numClasses: 1\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7]],\r\n                    numClasses: 2\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7],[251,106,74, 0.7]],\r\n                    numClasses: 3\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7],[251,106,74, 0.7],[222,45,38, 0.7]],\r\n                    numClasses: 4\r\n                },{\r\n                    colors: [[254,229,217, 0.7],[252,174,145, 0.7],[251,106,74, 0.7],[222,45,38, 0.7],[165,15,21, 0.7]],\r\n                    numClasses: 5\r\n                }\r\n            ],\r\n            outline: {\r\n                color: {r: 0, g: 0, b: 0, a: 0.25},\r\n                width: \"1px\"\r\n            }\r\n        };\r\n\r\n        var params = {\r\n            layer: taz,\r\n            field: field,\r\n            basemap: map.basemap,\r\n            classificationMethod: \"quantile\",\r\n            colorScheme: scheme,\r\n            legendOptions: {\r\n                title: yrDropdown + \" - \" + fieldDropdown\r\n            }\r\n        };\r\n\r\n        colorRendererCreator.createClassBreaksRenderer(params)\r\n            .then(function(response){\r\n                taz.renderer = response.renderer;\r\n\r\n                if (!taz.visible){\r\n                    taz.visible = true;\r\n                    tracts.visible = false;\r\n                    grid.visible = false;\r\n                }\r\n            });\r\n    }\r\n\r\n    function gridRenderer(fieldDropdown, yrDropdown){\r\n        var field = fieldDropdown + \"_\" + yrDropdown;\r\n\r\n        var scheme = {\r\n            name: \"div-blue-red\",\r\n            tags: \"Custom color scheme\",\r\n            id: \"above-and-below/streets-navigation-vector/div-blue-red\",\r\n            colors: [[26,152,80],[145,207,96],[217,239,139],[255,255,191],[254,224,139],[252,141,89],[215,48,39]],\r\n            noDataColor: [0,0,0],\r\n            colorsForClassBreaks: [\r\n                {\r\n                    colors: [[26,152,80,0.7]],\r\n                    numClasses: 1\r\n                },{\r\n                    colors: [[26,152,80,0.7],[145,207,96,0.7]],\r\n                    numClasses: 2\r\n                },{\r\n                    colors: [[26,152,80,0.7],[145,207,96,0.7],[217,239,139,0.7]],\r\n                    numClasses: 3\r\n                },{\r\n                    colors: [[26,152,80,0.7],[145,207,96,0.7],[217,239,139,0.7],[255,255,191,0.7]],\r\n                    numClasses: 4\r\n                },{\r\n                    colors: [[26,150,65,0.7],[166,217,106,0.7],[255,255,191,0.7],[253,174,97,0.7],[215,25,28,0.7]],\r\n                    numClasses: 5\r\n                },{\r\n                    colors: [[26,152,80,0.6],[145,207,96,0.6],[255,255,191,0.6],[254,224,139,0.6],[252,141,89,0.6],[215,48,39,0.6]],\r\n                    numClasses: 6\r\n                },{\r\n                    colors: [[26,152,80,0.6],[145,207,96,0.6],[217,239,139,0.6],[255,255,191,0.6],[254,224,139,0.6],[252,141,89,0.6],[215,48,39,0.6]],\r\n                    numClasses:7\r\n                }\r\n            ],\r\n            outline: {\r\n                color: {r: 0, g: 0, b: 0, a: 0.25},\r\n                width: \"0px\"\r\n            }\r\n        };\r\n\r\n        var params = {\r\n            layer: grid,\r\n            field: field,\r\n            basemap: map.basemap,\r\n            classificationMethod: \"natural-breaks\",\r\n            colorScheme: scheme,\r\n            numClasses: 5,\r\n            legendOptions: {\r\n                title: yrDropdown + \" - \" + fieldDropdown\r\n            }\r\n        };\r\n\r\n        colorRendererCreator.createClassBreaksRenderer(params)\r\n            .then(function(response){\r\n                grid.renderer = response.renderer;\r\n\r\n                if (!grid.visible){\r\n                    taz.visible = false;\r\n                    tracts.visible = false;\r\n                    grid.visible = true;\r\n                }\r\n            });\r\n    }\r\n\r\n    //Create the query that will populate the report popup\r\n    // var tractsTask = new QueryTask({\r\n    //     url: \"https://gis.h-gac.com/arcgis/rest/services/Forecast/Census_Tracts/MapServer/0\"\r\n    // });\r\n\r\n    // var tazTask = new QueryTask({\r\n    //     url: \"https://gis.h-gac.com/arcgis/rest/services/Forecast/TAZ_5217/MapServer/0\"\r\n    // });\r\n\r\n    // var gridTask = new QueryTask({\r\n    //     url: \"https://gis.h-gac.com/arcgis/rest/services/Forecast/H3M/MapServer/0\"\r\n    // });\r\n\r\n    view.on(\"click\", function(event){\r\n        if ($(\"input:checked\").val() == \"tracts\"){\r\n            executeTractQueryTask(event.mapPoint);\r\n        } else if ($(\"input:checked\").val() == \"taz\"){\r\n            executeTazQueryTask(event.mapPoint);\r\n        } else if ($(\"input:checked\").val() == \"grid\"){\r\n            executeGridQueryTask(event.mapPoint);\r\n        }\r\n    });\r\n\r\n    $(\"#reportModal\").on(\"hidden.bs.modal\", function(){\r\n        $(\"#Population_chart\").remove();\r\n        $(\"#Household_chart\").remove();\r\n        $(\"#Job_chart\").remove();\r\n    });\r\n\r\n    //function to start the queryTask\r\n    function executeTractQueryTask(point){\r\n        var query = {\r\n            geometry: point,\r\n            outFields: [\"*\"],\r\n            returnGeometry: false\r\n        };\r\n\r\n        tracts.queryFeatures(query).then(function(result){\r\n            setPopulationInfo(result.features[\"0\"].attributes);\r\n            setHouseholdInfo(result.features[\"0\"].attributes);\r\n            setJobInfo(result.features[\"0\"].attributes);\r\n        });\r\n\r\n        $(\"#reportModal\").modal(\"show\");\r\n    }\r\n\r\n    function executeTazQueryTask(point){\r\n        var query = {\r\n            geometry: point,\r\n            outFields: [\"*\"],\r\n            returnGeometry: false\r\n        };\r\n\r\n        taz.queryFeatures(query).then(function(result){\r\n            setPopulationInfo(result.features[\"0\"].attributes);\r\n            setHouseholdInfo(result.features[\"0\"].attributes);\r\n            setJobInfo(result.features[\"0\"].attributes);\r\n        });\r\n\r\n        $(\"#reportModal\").modal(\"show\");\r\n    }\r\n\r\n    function executeGridQueryTask(point){\r\n        var query = {\r\n            geometry: point,\r\n            outFields: [\"*\"],\r\n            returnGeometry: false\r\n        };\r\n\r\n        grid.queryFeatures(query).then(function(result){\r\n            setPopulationInfo(result.features[\"0\"].attributes);\r\n            setHouseholdInfo(result.features[\"0\"].attributes);\r\n            setJobInfo(result.features[\"0\"].attributes);\r\n        });\r\n\r\n        $(\"#reportModal\").modal(\"show\");\r\n    }\r\n\r\n    //Function to create the chart\r\n    function setPopulationInfo(results){\r\n        $(\"#Population\").append(\"<canvas id='Population_chart'></canvas>\");\r\n        var canvas = $(\"#Population_chart\");\r\n\r\n        var data = {\r\n            datasets: [\r\n                {\r\n                    data: [results.Household_Population_2018, results.Household_Population_2045],\r\n                    backgroundColor: [\"#d73347\"],\r\n                    borderColor: \"#d73347\",\r\n                    fill: false,\r\n                    label: \"Household Population\",\r\n                    pointBackgroundColor: \"#d73347\"\r\n                }\r\n            ],\r\n            labels: [\"2018\", \"2045\"]\r\n        };\r\n\r\n        myChart = new Chart(canvas,{\r\n            type: \"line\",\r\n            data: data,\r\n            options: {\r\n                tooltips: {\r\n                    mode: \"index\",\r\n                    intersect: false\r\n                },\r\n                hover: {\r\n                    mode: \"nearest\",\r\n                    intersect: true\r\n                },\r\n                scales:{\r\n                    xAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: \"Year\"\r\n                        }\r\n                    }],\r\n                    yAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: \"Household Population\"\r\n                        },\r\n                        ticks: {\r\n                            callback: function(value){\r\n                                return parseFloat(value).toLocaleString();\r\n                            }\r\n                        }\r\n                    }]\r\n                }\r\n            }\r\n        });\r\n\r\n        return canvas;\r\n    }\r\n\r\n    function setHouseholdInfo(results){\r\n        $(\"#Household\").append(\"<canvas id='Household_chart'></canvas>\");\r\n        var canvas = $(\"#Household_chart\");\r\n\r\n        var data = {\r\n            datasets: [\r\n                {\r\n                    data: [results.Households_2018, results.Households_2045],\r\n                    backgroundColor: [\"#d73347\"],\r\n                    borderColor: \"#d73347\",\r\n                    fill: false,\r\n                    label: \"Number of Households\",\r\n                    pointBackgroundColor: \"#d73347\"\r\n                }\r\n            ],\r\n            labels: [\"2018\", \"2045\"]\r\n        };\r\n\r\n        myChart = new Chart(canvas,{\r\n            type: \"line\",\r\n            data: data,\r\n            options: {\r\n                tooltips: {\r\n                    mode: \"index\",\r\n                    intersect: false\r\n                },\r\n                hover: {\r\n                    mode: \"nearest\",\r\n                    intersect: true\r\n                },\r\n                scales:{\r\n                    xAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: \"Year\"\r\n                        }\r\n                    }],\r\n                    yAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: \"Number of Households\"\r\n                        },\r\n                        ticks: {\r\n                            callback: function(value){\r\n                                return parseFloat(value).toLocaleString();\r\n                            }\r\n                        }\r\n                    }]\r\n                }\r\n            }\r\n        });\r\n\r\n        return canvas;\r\n    }\r\n\r\n    function setJobInfo(results){\r\n        $(\"#Job\").append(\"<canvas id='Job_chart'></canvas>\");\r\n        var canvas = $(\"#Job_chart\");\r\n\r\n        var data = {\r\n            datasets: [\r\n                {\r\n                    data: [results.Jobs_2018, results.Jobs_2045],\r\n                    backgroundColor: [\"#d73347\"],\r\n                    borderColor: \"#d73347\",\r\n                    fill: false,\r\n                    label: \"Number of Jobs\",\r\n                    pointBackgroundColor: \"#d73347\"\r\n                }\r\n            ],\r\n            labels: [\"2018\", \"2045\"]\r\n        };\r\n\r\n        myChart = new Chart(canvas,{\r\n            type: \"line\",\r\n            data: data,\r\n            options: {\r\n                tooltips: {\r\n                    mode: \"index\",\r\n                    intersect: false\r\n                },\r\n                hover: {\r\n                    mode: \"nearest\",\r\n                    intersect: true\r\n                },\r\n                scales:{\r\n                    xAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: \"Year\"\r\n                        }\r\n                    }],\r\n                    yAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: \"Number of Jobs\"\r\n                        },\r\n                        ticks: {\r\n                            callback: function(value){\r\n                                return parseFloat(value).toLocaleString();\r\n                            }\r\n                        }\r\n                    }]\r\n                }\r\n            }\r\n        });\r\n\r\n        return canvas;\r\n    }\r\n    \r\n});"],"file":"main.js"}